(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[651],{1444:(e,s,l)=>{Promise.resolve().then(l.bind(l,3876))},3876:(e,s,l)=>{"use strict";l.r(s),l.d(s,{default:()=>d});var a=l(5155),t=l(2115),r=l(7333),n=l(6106),i=l(7807),c=l(899);function d(){let[e,s]=(0,t.useState)(""),[l,d]=(0,t.useState)(null),[u,m]=(0,t.useState)({}),[h,o]=(0,t.useState)(!1),x=e=>{let s=[];return e.length<8&&s.push("Пароль должен содержать не менее 8 символов"),(e.match(/[A-Z]/g)||[]).length<1&&s.push("Пароль должен содержать хотя бы одну заглавную букву"),(e.match(/[a-z]/g)||[]).length<1&&s.push("Пароль должен содержать хотя бы одну строчную букву"),(e.match(/[0-9]/g)||[]).length<1&&s.push("Пароль должен содержать хотя бы одну цифру"),e.match(/[!@#$%^&*(),.?":{}|<>_]/)||s.push("Пароль должен включать хотя бы один специальный символ"),(e.match(/[^a-z]/gi)||[]).length<1&&s.push("Пароль должен содержать хотя бы один символ"),s},g=(0,t.useMemo)(()=>x(e),[e]);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("h1",{className:"pb-12 text-center text-[5vh] light:text-gray-900 dark:text-gray-50",children:"Регистрация"}),(0,a.jsxs)(r.l,{className:"w-full justify-center items-center space-y-10",validationErrors:u,onReset:()=>d(null),onSubmit:e=>{e.preventDefault();let s=Object.fromEntries(new FormData(e.currentTarget)),l={},a=x(s.password);if(a.length>0&&(l.password=a.join(", ")),"admin"===s.name&&(l.name="Хорошая попытка! Выберите другое имя пользователя"),Object.keys(l).length>0){m(l);return}if("true"!==s.terms){m({terms:"Пожалуйста, примите условия"});return}m({}),d(s)},children:[(0,a.jsxs)("div",{className:"flex flex-col gap-4 max-w-md",children:[(0,a.jsx)(n.r,{isRequired:!0,errorMessage:e=>{let{validationDetails:s}=e;return s.valueMissing?"Пожалуйста, введите ваше имя":u.name},label:"Имя",labelPlacement:"outside",name:"name",placeholder:"Введите имя",color:"default"}),(0,a.jsx)(n.r,{isRequired:!0,errorMessage:e=>{let{validationDetails:s}=e;return s.valueMissing?"Пожалуйста, введите вашу электронную почту":s.typeMismatch?"Пожалуйста, введите корректный адрес электронной почты":void 0},label:"Электронная почта",labelPlacement:"outside",name:"email",placeholder:"Введите электронную почту",type:"email",color:"default"}),(0,a.jsx)(n.r,{isRequired:!0,errorMessage:()=>e&&0!==g.length?(0,a.jsx)("ul",{children:g.map((e,s)=>(0,a.jsx)("li",{children:e},s))}):null,isInvalid:g.length>0,label:"Пароль",labelPlacement:"outside",name:"password",placeholder:"Введите пароль",type:h?"text":"password",value:e,color:"default",onValueChange:s,endContent:(0,a.jsx)("button",{"aria-label":"toggle password visibility",className:"focus:outline-none",type:"button",onClick:()=>o(e=>!e),children:h?(0,a.jsx)("img",{src:"Eye.svg",alt:"Скрыть пароль"}):(0,a.jsx)("img",{src:"Eye-slashed.svg",alt:"Показать пароль"})})}),(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)(i.A,{isRequired:!0,color:"default",classNames:{label:"text-small"},isInvalid:!!u.terms,name:"terms",validationBehavior:"aria",value:"true",onValueChange:()=>m(e=>({...e,terms:void 0})),children:"Я согласен с"}),(0,a.jsx)("a",{href:"/privacy",className:"underline",children:"политикой конфиденциальности"})]}),u.terms&&(0,a.jsx)("span",{className:"text-danger text-small",children:u.terms}),(0,a.jsxs)("div",{className:"flex gap-4",children:[(0,a.jsx)(c.T,{className:"w-full",color:"default",type:"submit",children:"Отправить"}),(0,a.jsx)(c.T,{type:"reset",variant:"bordered",children:"Сбросить"})]})]}),(0,a.jsx)("div",{className:"text-center text-small",children:(0,a.jsxs)("a",{href:"/login",className:"text-gray-500",children:["Уже есть аккаунт? ",(0,a.jsx)("b",{children:"Войти"})]})}),l&&(0,a.jsxs)("div",{className:"text-small text-default-500 mt-4",children:["Отправленные данные: ",(0,a.jsx)("pre",{children:JSON.stringify(l,null,2)})]})]})]})}}},e=>{var s=s=>e(e.s=s);e.O(0,[534,899,57,764,441,517,358],()=>s(1444)),_N_E=e.O()}]);